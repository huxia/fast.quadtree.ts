/**
   * @license
   * author: https://github.com/huxia
   * fast_quadtree_ts.js v0.0.8
   * Released under the MIT license.
   */
var fast_quadtree_ts=function(e){"use strict";var t,s,i;e.Collection=void 0,(t=e.Collection||(e.Collection={})).toArray=function(e){if(e instanceof Array)return e;const t=[];if(e[Symbol.iterator]){for(const s of e)t.push(s);return t}let s=e.next();for(;!s.done;)t.push(s.value),s=e.next();return t},t.toIterable=function*(...e){for(const t of e){if(!t)continue;const e=t();if(e instanceof Array)for(const t of e)yield t;else{let t=e.next();for(;!t.done;)yield t.value,t=e.next()}}},t.toIterableWithFilter=function*(e,...t){for(const s of t){if(!s)continue;const t=s();if(t instanceof Array)for(const s of t)e&&!e(s)||(yield s);else{let s=t.next();for(;!s.done;)e&&!e(s.value)||(yield s.value),s=t.next()}}},t.toIterableWithMap=function*(e,...t){for(const s of t){if(!s)continue;const t=s();if(t instanceof Array)for(const s of t)yield e(s);else{let s=t.next();for(;!s.done;)yield e(s.value),s=t.next()}}},e.AABB=void 0,(s=e.AABB||(e.AABB={})).overlapsVec=function(e,t){return e.center.x-e.size.x<=t.x&&t.x<=e.center.x+e.size.x&&e.center.y-e.size.y<=t.y&&t.y<=e.center.y+e.size.y},s.overlapsAABB=function(e,t){return!(t.center.x-t.size.x>e.center.x+e.size.x||t.center.x+t.size.x<e.center.x-e.size.x||t.center.y-t.size.y>e.center.y+e.size.y||t.center.y+t.size.y<e.center.y-e.size.y)},e.Shape=void 0,(i=e.Shape||(e.Shape={})).overlapsVec=function(t,s){switch(t.type){case"rectangle":return e.AABB.overlapsVec(t,s);case"square":return e.AABB.overlapsVec({center:t.center,size:{x:t.size,y:t.size}},s);case"circle":return i.overlapsVec({type:"ellipse",center:t.center,size:{x:t.size,y:t.size}},s);case"ellipse":return Math.pow(s.x-t.center.x,2)/Math.pow(t.size.x,2)+Math.pow(s.y-t.center.y,2)/Math.pow(t.size.y,2)<=1;default:throw new Error("not implemented")}},i.possiblelyOverlapsAABB=function(t,s){switch(t.type){case"ellipse":case"rectangle":return e.AABB.overlapsAABB(t,s);case"circle":case"square":return e.AABB.overlapsAABB({center:t.center,size:{x:t.size,y:t.size}},s);default:throw new Error("not implemented")}},i.createRectangle=function(e,t){return"number"==typeof t?{type:"square",center:e,size:t}:{type:"rectangle",center:e,size:t}},i.createEllipse=function(e,t){return"number"==typeof t?{type:"circle",center:e,size:t}:{type:"ellipse",center:e,size:t}};class r{static MaxElements=8;static MaxDepth=8;static UniqueUnitAtPositionKeyFunc=(e,t,s)=>s.options.integerCoordinate?e.x+2*s.bounds.size.x*e.y:`${e.x},${e.y}`;bounds;depth;divided;units;northWest;northEast;southWest;southEast;size;options;constructor(e,t,s=0){this.bounds=e,this.depth=s,this.divided=!1,this.units={},this.size=0,this.options=t||{unitKeyGetter:r.UniqueUnitAtPositionKeyFunc}}_add(t,s){if(!e.AABB.overlapsVec(this.bounds,t))return!1;if(this.depth==r.MaxDepth||!this.divided&&this.size<r.MaxElements){const e=this.options.unitKeyGetter(t,s,this);let i="existing";return this.units[e]||(this.size++,i="added"),this.units[e]={vec:t,unit:s},i}this.divided||this.divide();const i=this.northWest._add(t,s)||this.northEast._add(t,s)||this.southWest._add(t,s)||this.southEast._add(t,s);return"added"===i&&this.size++,i}add(e,t){return!!this._add(e,t)}_move(t,s,i){if(!e.AABB.overlapsVec(this.bounds,t))return!1;if(!this.divided){const r=this.options.unitKeyGetter(t,i,this);if(!this.units[r])return!1;if(s&&e.AABB.overlapsVec(this.bounds,s)){const e=this.options.unitKeyGetter(s,i,this);return e!==r?(delete this.units[r],this.units[e]={vec:s,unit:i}):this.units[r]={vec:s,unit:i},"moved"}return delete this.units[r],this.size--,"removed"}const r=this.northWest._move(t,s,i)||this.northEast._move(t,s,i)||this.southWest._move(t,s,i)||this.southEast._move(t,s,i);return"removed"===r&&(this.size--,s)?this.add(s,i)?"moved":"removed":r}move(t,s,i){if(!e.AABB.overlapsVec(this.bounds,s))return!1;if("removed"===this._move(t,s,i))throw new Error("unexpected");return!0}delete(e,t){return"removed"===this._move(e,void 0,t)}clear(){this.units={},this.size=0,this.divided=!1,this.northWest=this.northEast=this.southWest=this.southEast=void 0}has(t,s){if(!e.AABB.overlapsVec(this.bounds,t))return!1;if(!this.divided){const e=this.options.unitKeyGetter(t,s,this);return!!this.units[e]}return this.northWest.has(t,s)||this.northEast.has(t,s)||this.southWest.has(t,s)||this.southEast.has(t,s)}divide(){this.divided=!0;const e=this.bounds.size.x/2,t=this.bounds.size.y/2;this.northWest=new r({center:{x:this.bounds.center.x-e,y:this.bounds.center.y-t},size:{x:e,y:t}},this.options,this.depth+1),this.northEast=new r({center:{x:this.bounds.center.x+e,y:this.bounds.center.y-t},size:{x:e,y:t}},this.options,this.depth+1),this.southWest=new r({center:{x:this.bounds.center.x-e,y:this.bounds.center.y+t},size:{x:e,y:t}},this.options,this.depth+1),this.southEast=new r({center:{x:this.bounds.center.x+e,y:this.bounds.center.y+t},size:{x:e,y:t}},this.options,this.depth+1);for(const{vec:e,unit:t}of Object.values(this.units))this.northWest.add(e,t)||this.northEast.add(e,t)||this.southWest.add(e,t)||this.southEast.add(e,t);this.units={}}queryIteratable(t,s){const i="function"==typeof t?t:void 0;if(s&&!e.Shape.possiblelyOverlapsAABB(s,this.bounds))return[];if(!this.divided){let t=Object.values(this.units);return s&&(t=t.filter((t=>e.Shape.overlapsVec(s,t.vec)))),i?t.map(i):t}return i?e.Collection.toIterableWithMap(i,(()=>this.northWest.queryIteratable(s)),(()=>this.northEast.queryIteratable(s)),(()=>this.southWest.queryIteratable(s)),(()=>this.southEast.queryIteratable(s))):e.Collection.toIterable((()=>this.northWest.queryIteratable(s)),(()=>this.northEast.queryIteratable(s)),(()=>this.southWest.queryIteratable(s)),(()=>this.southEast.queryIteratable(s)))}_queryReduce(t,s,i){if(t&&!e.Shape.possiblelyOverlapsAABB(t,this.bounds))return i;if(!this.divided){let r=Object.values(this.units);return t&&(r=r.filter((s=>e.Shape.overlapsVec(t,s.vec)))),r.reduce(s,i)}let r=i;return r=this.northWest._queryReduce(t,s,r),r=this.northEast._queryReduce(t,s,r),r=this.southWest._queryReduce(t,s,r),r=this.southEast._queryReduce(t,s,r),r}queryReduce(e,t,s){return"function"==typeof e?this._queryReduce(void 0,e,t):this._queryReduce(e,t,s)}queryArray(e){return this._queryReduce(e,((e,t)=>(e.push(t),e)),[])}queryForEach(e,t){if("function"==typeof e)this._queryReduce(void 0,((t,s,i)=>e(s,i)));else{if(!t)return;this._queryReduce(e,((e,s,i)=>t(s,i)))}}queryMap(e,t){return"function"==typeof e?t?this._queryReduce(void 0,((t,s,i)=>(t.push(e(s,i)),t)),[]):[]:t?this._queryReduce(e,((e,s,i)=>(e.push(t(s,i)),e)),[]):[]}_dumpToString(e){const t="            ".substring(0,this.depth);if(!this.divided)return e.push(t),e.push(JSON.stringify(this.units)),e.push("\n"),e;for(const s of[{str:"NW",qt:this.northWest},{str:"NE",qt:this.northEast},{str:"SW",qt:this.southWest},{str:"SE",qt:this.southEast}])e.push(t),e.push(s.str),e.push(` (${s.qt.size}):\n`),s.qt._dumpToString(e);return e}toString(){return this._dumpToString([]).join("")}}class n extends Error{constructor(e){super(e)}}class o{static UniqueUnitAtVecKeyFunc=r.UniqueUnitAtPositionKeyFunc;quardTree;unitPositionGetter;constructor(e,t){this.quardTree=new r(e,t),this.unitPositionGetter=t.unitPositionGetter}get size(){return this.quardTree.size}get bounds(){return this.quardTree.bounds}add(e){const t=this.unitPositionGetter(e);if(!this.quardTree.add(t,e))throw new n(`position ${JSON.stringify(t)} is out of bounds: ${JSON.stringify(this.quardTree.bounds)}`);return this}move(e,t){return this.quardTree.move(this.unitPositionGetter(e),t,e)}delete(e){return this.quardTree.delete(this.unitPositionGetter(e),e)}has(e){return this.quardTree.has(this.unitPositionGetter(e),e)}clear(){this.quardTree.clear()}forEach(e){return this.quardTree.queryReduce(((t,s)=>{e(s.unit,s.unit,this)}),void 0)}entries(){return this.quardTree.queryIteratable((e=>[e.unit,e.unit]))}keys(){return this.values()}values(){return this.quardTree.queryIteratable((e=>e.unit))}get[Symbol.toStringTag](){return this.quardTree.toString()}[Symbol.iterator](){return this.values()}queryIteratable(e){return this.quardTree.queryIteratable(e)}queryReduce(e,t,s){return this.quardTree.queryReduce(e,t,s)}queryArray(e){return this.quardTree.queryArray(e)}queryForEach(e,t){this.quardTree.queryForEach(e,t)}queryMap(e,t){return this.quardTree.queryMap(e,t)}}return e.QuadTree=r,e.QuadTreeSet=o,Object.defineProperty(e,"__esModule",{value:!0}),e}({});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmFzdC1xdWFkdHJlZS10cy5taW4uanMiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jb2xsZWN0aW9uLnRzIiwiLi4vLi4vc3JjL3NoYXBlLnRzIiwiLi4vLi4vc3JjL1F1YWRUcmVlLnRzIiwiLi4vLi4vc3JjL1F1YWRUcmVlU2V0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIlxuZXhwb3J0IHR5cGUgQ29sbGVjdGlvbjxUPiA9IEl0ZXJhdG9yPFQ+IHwgQXJyYXk8VD47XG5leHBvcnQgdHlwZSBJdGVyYWJsZTxUPiA9IEl0ZXJhYmxlSXRlcmF0b3I8VD4gfCBBcnJheTxUPjtcbmV4cG9ydCBuYW1lc3BhY2UgQ29sbGVjdGlvbiB7XG4gIGV4cG9ydCBmdW5jdGlvbiB0b0FycmF5PFQ+KGM6IENvbGxlY3Rpb248VD4pIHtcbiAgICBpZiAoYyBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICByZXR1cm4gYztcbiAgICB9XG4gICAgY29uc3QgcjogVFtdID0gW107XG4gICAgaWYgKChjIGFzIEdlbmVyYXRvcjxUPilbU3ltYm9sLml0ZXJhdG9yXSkge1xuICAgICAgZm9yIChjb25zdCBpIG9mIChjIGFzIEdlbmVyYXRvcjxUPikpIHtcbiAgICAgICAgci5wdXNoKGkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHI7XG4gICAgfVxuICAgIGxldCBpID0gYy5uZXh0KCk7XG4gICAgd2hpbGUgKCFpLmRvbmUpIHtcbiAgICAgIHIucHVzaChpLnZhbHVlKTtcbiAgICAgIGkgPSBjLm5leHQoKTtcbiAgICB9XG4gICAgcmV0dXJuIHI7XG4gIH1cbiAgZXhwb3J0IGZ1bmN0aW9uKiB0b0l0ZXJhYmxlPFQ+KFxuICAgICAgLi4uY2hpbGRJdGVyYXRvcnM6ICgoKSA9PiBDb2xsZWN0aW9uPFQ+KVtdXG4gICkge1xuICAgIGZvciAoY29uc3QgZnVuYyBvZiBjaGlsZEl0ZXJhdG9ycykge1xuICAgICAgaWYgKCFmdW5jKSBjb250aW51ZTtcbiAgICAgIGNvbnN0IGl0ZXJhdG9yID0gZnVuYygpO1xuICAgICAgaWYgKGl0ZXJhdG9yIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgZm9yIChjb25zdCByZXN1bHQgb2YgaXRlcmF0b3IpIHtcbiAgICAgICAgICB5aWVsZCByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIHdoaWxlICghcmVzdWx0LmRvbmUpIHtcbiAgICAgICAgICB5aWVsZCByZXN1bHQudmFsdWU7XG4gICAgICAgICAgcmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGV4cG9ydCBmdW5jdGlvbiogdG9JdGVyYWJsZVdpdGhGaWx0ZXI8VD4oXG4gICAgICBmaWx0ZXJGdW5jOiAoKG86IFQpID0+IGJvb2xlYW4pLFxuICAgICAgLi4uY2hpbGRJdGVyYXRvcnM6ICgoKSA9PiBDb2xsZWN0aW9uPFQ+KVtdXG4gICkge1xuICAgIGZvciAoY29uc3QgZnVuYyBvZiBjaGlsZEl0ZXJhdG9ycykge1xuICAgICAgaWYgKCFmdW5jKSBjb250aW51ZTtcbiAgICAgIGNvbnN0IGl0ZXJhdG9yID0gZnVuYygpO1xuICAgICAgaWYgKGl0ZXJhdG9yIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgZm9yIChjb25zdCByZXN1bHQgb2YgaXRlcmF0b3IpIHtcbiAgICAgICAgICBpZiAoIWZpbHRlckZ1bmMgfHwgZmlsdGVyRnVuYyhyZXN1bHQpKSB7XG4gICAgICAgICAgICB5aWVsZCByZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgcmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICB3aGlsZSAoIXJlc3VsdC5kb25lKSB7XG4gICAgICAgICAgaWYgKCFmaWx0ZXJGdW5jIHx8IGZpbHRlckZ1bmMocmVzdWx0LnZhbHVlKSkge1xuICAgICAgICAgICAgeWllbGQgcmVzdWx0LnZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZXhwb3J0IGZ1bmN0aW9uKiB0b0l0ZXJhYmxlV2l0aE1hcDxULCBBPihcbiAgICAgIG1hcEZ1bmM6ICgobzogVCkgPT4gQSksXG4gICAgICAuLi5jaGlsZEl0ZXJhdG9yczogKCgpID0+IENvbGxlY3Rpb248VD4pW11cbiAgKSB7XG4gICAgZm9yIChjb25zdCBmdW5jIG9mIGNoaWxkSXRlcmF0b3JzKSB7XG4gICAgICBpZiAoIWZ1bmMpIGNvbnRpbnVlO1xuICAgICAgY29uc3QgaXRlcmF0b3IgPSBmdW5jKCk7XG4gICAgICBpZiAoaXRlcmF0b3IgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICBmb3IgKGNvbnN0IHJlc3VsdCBvZiBpdGVyYXRvcikge1xuICAgICAgICAgIHlpZWxkIG1hcEZ1bmMocmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgd2hpbGUgKCFyZXN1bHQuZG9uZSkge1xuICAgICAgICAgIHlpZWxkIG1hcEZ1bmMocmVzdWx0LnZhbHVlKTtcbiAgICAgICAgICByZXN1bHQgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsImV4cG9ydCBpbnRlcmZhY2UgVmVjMiB7XG4gIHg6IG51bWJlcjtcbiAgeTogbnVtYmVyO1xufVxuZXhwb3J0IGludGVyZmFjZSBBQUJCIHtcbiAgY2VudGVyOiBWZWMyO1xuICBzaXplOiBWZWMyO1xufVxuZXhwb3J0IG5hbWVzcGFjZSBBQUJCIHtcbiAgZXhwb3J0IGZ1bmN0aW9uIG92ZXJsYXBzVmVjKGFhYmI6IEFBQkIsIHZlYzogVmVjMik6IGJvb2xlYW4ge1xuICAgIHJldHVybiBhYWJiLmNlbnRlci54IC0gYWFiYi5zaXplLnggPD0gdmVjLnggJiZcbiAgICAgIHZlYy54IDw9IGFhYmIuY2VudGVyLnggKyBhYWJiLnNpemUueCAmJlxuICAgICAgYWFiYi5jZW50ZXIueSAtIGFhYmIuc2l6ZS55IDw9IHZlYy55ICYmXG4gICAgICB2ZWMueSA8PSBhYWJiLmNlbnRlci55ICsgYWFiYi5zaXplLnk7XG4gIH1cbiAgZXhwb3J0IGZ1bmN0aW9uIG92ZXJsYXBzQUFCQihvbmU6IEFBQkIsIGFub3RoZXI6IEFBQkIpOiBib29sZWFuIHtcbiAgICByZXR1cm4gIShcbiAgICAgIGFub3RoZXIuY2VudGVyLnggLSBhbm90aGVyLnNpemUueCA+IG9uZS5jZW50ZXIueCArIG9uZS5zaXplLnggfHxcbiAgICAgIGFub3RoZXIuY2VudGVyLnggKyBhbm90aGVyLnNpemUueCA8IG9uZS5jZW50ZXIueCAtIG9uZS5zaXplLnggfHxcbiAgICAgIGFub3RoZXIuY2VudGVyLnkgLSBhbm90aGVyLnNpemUueSA+IG9uZS5jZW50ZXIueSArIG9uZS5zaXplLnkgfHxcbiAgICAgIGFub3RoZXIuY2VudGVyLnkgKyBhbm90aGVyLnNpemUueSA8IG9uZS5jZW50ZXIueSAtIG9uZS5zaXplLnlcbiAgICApO1xuICB9XG59XG50eXBlIFJlY3RhbmdsZVNoYXBlID0ge1xuICB0eXBlOiAncmVjdGFuZ2xlJ1xufSAmIEFBQkI7XG50eXBlIEVsbGlwc2VTaGFwZSA9IHtcbiAgdHlwZTogJ2VsbGlwc2UnXG59ICYgQUFCQjtcbnR5cGUgQ2lyY2xlU2hhcGUgPSB7XG4gIHR5cGU6ICdjaXJjbGUnXG59ICYge1xuICBjZW50ZXI6IFZlYzI7XG4gIHNpemU6IG51bWJlcjtcbn07XG50eXBlIFNxdWFyZVNoYXBlID0ge1xuICB0eXBlOiAnc3F1YXJlJ1xufSAmIHtcbiAgY2VudGVyOiBWZWMyO1xuICBzaXplOiBudW1iZXI7XG59O1xuZXhwb3J0IHR5cGUgU2hhcGUgPSBSZWN0YW5nbGVTaGFwZSB8IEVsbGlwc2VTaGFwZSB8IENpcmNsZVNoYXBlIHwgU3F1YXJlU2hhcGU7XG5leHBvcnQgbmFtZXNwYWNlIFNoYXBlIHtcbiAgZXhwb3J0IGZ1bmN0aW9uIG92ZXJsYXBzVmVjKHNoYXBlOiBTaGFwZSwgdmVjOiBWZWMyKTogYm9vbGVhbiB7XG4gICAgc3dpdGNoIChzaGFwZS50eXBlKSB7XG4gICAgICBjYXNlICdyZWN0YW5nbGUnOiByZXR1cm4gQUFCQi5vdmVybGFwc1ZlYyhzaGFwZSwgdmVjKTtcbiAgICAgIGNhc2UgJ3NxdWFyZSc6IHJldHVybiBBQUJCLm92ZXJsYXBzVmVjKHtcbiAgICAgICAgY2VudGVyOiBzaGFwZS5jZW50ZXIsXG4gICAgICAgIHNpemU6IHt4OiBzaGFwZS5zaXplLCB5OiBzaGFwZS5zaXplfSxcbiAgICAgIH0sIHZlYyk7XG4gICAgICBjYXNlICdjaXJjbGUnOiByZXR1cm4gU2hhcGUub3ZlcmxhcHNWZWMoe1xuICAgICAgICB0eXBlOiAnZWxsaXBzZScsXG4gICAgICAgIGNlbnRlcjogc2hhcGUuY2VudGVyLFxuICAgICAgICBzaXplOiB7eDogc2hhcGUuc2l6ZSwgeTogc2hhcGUuc2l6ZX0sXG4gICAgICB9LCB2ZWMpO1xuICAgICAgY2FzZSAnZWxsaXBzZSc6IHtcbiAgICAgICAgY29uc3QgcCA9XG4gICAgICAgICAgTWF0aC5wb3codmVjLnggLSBzaGFwZS5jZW50ZXIueCwgMikgLyBNYXRoLnBvdyhzaGFwZS5zaXplLngsIDIpICtcbiAgICAgICAgICBNYXRoLnBvdyh2ZWMueSAtIHNoYXBlLmNlbnRlci55LCAyKSAvIE1hdGgucG93KHNoYXBlLnNpemUueSwgMik7XG4gICAgICAgIHJldHVybiBwIDw9IDE7XG4gICAgICB9XG4gICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoJ25vdCBpbXBsZW1lbnRlZCcpO1xuICAgIH1cbiAgfVxuICBleHBvcnQgZnVuY3Rpb24gcG9zc2libGVseU92ZXJsYXBzQUFCQihzaGFwZTogU2hhcGUsIGFhYmI6IEFBQkIpOiBib29sZWFuIHtcbiAgICBzd2l0Y2ggKHNoYXBlLnR5cGUpIHtcbiAgICAgIGNhc2UgJ2VsbGlwc2UnOlxuICAgICAgY2FzZSAncmVjdGFuZ2xlJzpcbiAgICAgICAgcmV0dXJuIEFBQkIub3ZlcmxhcHNBQUJCKHNoYXBlLCBhYWJiKTtcbiAgICAgIGNhc2UgJ2NpcmNsZSc6XG4gICAgICBjYXNlICdzcXVhcmUnOlxuICAgICAgICByZXR1cm4gQUFCQi5vdmVybGFwc0FBQkIoe1xuICAgICAgICAgIGNlbnRlcjogc2hhcGUuY2VudGVyLFxuICAgICAgICAgIHNpemU6IHt4OiBzaGFwZS5zaXplLCB5OiBzaGFwZS5zaXplfSxcbiAgICAgICAgfSwgYWFiYik7XG4gICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoJ25vdCBpbXBsZW1lbnRlZCcpO1xuICAgIH1cbiAgfVxuICBleHBvcnQgZnVuY3Rpb24gY3JlYXRlUmVjdGFuZ2xlKGNlbnRlcjogVmVjMiwgc2l6ZTogVmVjMiB8IG51bWJlcik6IFNoYXBlIHtcbiAgICBpZiAodHlwZW9mIHNpemUgPT09ICdudW1iZXInKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnc3F1YXJlJyxcbiAgICAgICAgY2VudGVyLFxuICAgICAgICBzaXplLFxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ3JlY3RhbmdsZScsXG4gICAgICAgIGNlbnRlcixcbiAgICAgICAgc2l6ZSxcbiAgICAgIH07XG4gICAgfVxuICB9XG4gIGV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFbGxpcHNlKGNlbnRlcjogVmVjMiwgc2l6ZTogVmVjMiB8IG51bWJlcik6IFNoYXBlIHtcbiAgICBpZiAodHlwZW9mIHNpemUgPT09ICdudW1iZXInKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnY2lyY2xlJyxcbiAgICAgICAgY2VudGVyLFxuICAgICAgICBzaXplLFxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ2VsbGlwc2UnLFxuICAgICAgICBjZW50ZXIsXG4gICAgICAgIHNpemUsXG4gICAgICB9O1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHtDb2xsZWN0aW9uLCBJdGVyYWJsZX0gZnJvbSAnLi9jb2xsZWN0aW9uJztcbmltcG9ydCB7VmVjMiwgQUFCQiwgU2hhcGV9IGZyb20gJy4vc2hhcGUnO1xuXG5leHBvcnQgdHlwZSBRdWFkVHJlZVVuaXRLZXlGdW5jPFQ+ID0gKFxuICB2ZWM6IFZlYzIsIHVuaXQ6IFQgfCB1bmRlZmluZWQsIHF1YWRUcmVlOiBRdWFkVHJlZTxUPlxuKSA9PiBzdHJpbmcgfCBudW1iZXI7XG5leHBvcnQgdHlwZSBSZWR1Y2VDYWxsYmFja0Z1bmM8VCwgQT4gPSAoXG4gICAgYWNjOiBBLFxuICAgIHByZXZpb3VzOiB7dmVjOiBWZWMyLCB1bml0PzogVH0sXG4gICAgaW5kZXg6IG51bWJlcixcbikgPT4gQSB8IHVuZGVmaW5lZDtcbmV4cG9ydCBpbnRlcmZhY2UgUXVhZFRyZWVPcHRpb25zPFQ+IHtcbiAgdW5pdEtleUdldHRlcjogUXVhZFRyZWVVbml0S2V5RnVuYzxUPixcbiAgaW50ZWdlckNvb3JkaW5hdGU/OiBib29sZWFuLFxufVxuZXhwb3J0IGludGVyZmFjZSBSZWFkb25seVF1YWRUcmVlPFQ+IHtcbiAgcmVhZG9ubHkgYm91bmRzOiBBQUJCO1xuICByZWFkb25seSBzaXplOiBudW1iZXJcbiAgaGFzKHZlYzogVmVjMiwgdW5pdD86IFQpOiBib29sZWFuO1xuICBxdWVyeUl0ZXJhdGFibGU8QT4oXG4gICAgICBtYXBGdW5jOiAodjoge3ZlYzogVmVjMiwgdW5pdD86IFR9KSA9PiBBLFxuICAgICAgc2hhcGU/OiBTaGFwZSB8IHVuZGVmaW5lZCxcbiAgKTogSXRlcmFibGU8QT47XG4gIHF1ZXJ5SXRlcmF0YWJsZShcbiAgICAgIHNoYXBlPzogU2hhcGUgfCB1bmRlZmluZWQsXG4gICk6IEl0ZXJhYmxlPHt2ZWM6IFZlYzIsIHVuaXQ/OiBUfT47XG4gIHF1ZXJ5UmVkdWNlPEE+KFxuICAgICAgY2FsbGJhY2tGdW5jOiBSZWR1Y2VDYWxsYmFja0Z1bmM8VCwgQT4sXG4gICAgICBpbml0aWFsVmFsdWU/OiBBKTogQTtcbiAgcXVlcnlSZWR1Y2U8QT4oXG4gICAgICBzaGFwZTogU2hhcGUsXG4gICAgICBjYWxsYmFja0Z1bmM6IFJlZHVjZUNhbGxiYWNrRnVuYzxULCBBPixcbiAgICAgIGluaXRpYWxWYWx1ZT86IEEpOiBBO1xuICBxdWVyeUFycmF5KFxuICAgICAgc2hhcGU/OiBTaGFwZSxcbiAgKTogQXJyYXk8e3ZlYzogVmVjMiwgdW5pdD86IFR9PjtcbiAgcXVlcnlGb3JFYWNoKFxuICAgICAgc2hhcGU6IFNoYXBlLFxuICAgICAgZm9yZWFjaEZ1bmM6ICh2OiB7dmVjOiBWZWMyLCB1bml0PzogVH0sIGluZGV4OiBudW1iZXIpID0+IHZvaWQsXG4gICk6IHZvaWQ7XG4gIHF1ZXJ5Rm9yRWFjaChcbiAgICAgIGZvcmVhY2hGdW5jOiAodjoge3ZlYzogVmVjMiwgdW5pdD86IFR9LCBpbmRleDogbnVtYmVyKSA9PiB2b2lkLFxuICApOiB2b2lkO1xuXG4gIHF1ZXJ5TWFwPEE+KFxuICAgICAgbWFwRnVuYzogKHY6IHt2ZWM6IFZlYzIsIHVuaXQ/OiBUfSwgaW5kZXg6IG51bWJlcikgPT4gQSxcbiAgKTogQXJyYXk8QT47XG4gIHF1ZXJ5TWFwPEE+KFxuICAgICAgc2hhcGU6IFNoYXBlLFxuICAgICAgbWFwRnVuYzogKHY6IHt2ZWM6IFZlYzIsIHVuaXQ/OiBUfSwgaW5kZXg6IG51bWJlcikgPT4gQSxcbiAgKTogQXJyYXk8QT47XG59XG5leHBvcnQgY2xhc3MgUXVhZFRyZWU8VD4gaW1wbGVtZW50cyBSZWFkb25seVF1YWRUcmVlPFQ+IHtcbiAgc3RhdGljIE1heEVsZW1lbnRzID0gODtcbiAgc3RhdGljIE1heERlcHRoID0gODtcbiAgc3RhdGljIFVuaXF1ZVVuaXRBdFBvc2l0aW9uS2V5RnVuYyA9IChcbiAgICAgIHZlYzogVmVjMixcbiAgICAgIF86IGFueSxcbiAgICAgIHF1YWRUcmVlOiBRdWFkVHJlZTxhbnk+LFxuICApID0+XG4gICAgcXVhZFRyZWUub3B0aW9ucy5pbnRlZ2VyQ29vcmRpbmF0ZSA/XG4gICAgICB2ZWMueCArIChxdWFkVHJlZS5ib3VuZHMuc2l6ZS54ICogMikgKiB2ZWMueSA6XG4gICAgICBgJHt2ZWMueH0sJHt2ZWMueX1gO1xuXG4gIGJvdW5kczogQUFCQjtcblxuICBwcml2YXRlIGRlcHRoOiBudW1iZXI7XG5cbiAgcHJpdmF0ZSBkaXZpZGVkOiBib29sZWFuO1xuXG4gIHByaXZhdGUgdW5pdHM6IHtba2V5OiBzdHJpbmcgfCBudW1iZXJdOiB7dW5pdD86IFQsIHZlYzogVmVjMn19O1xuXG4gIHByaXZhdGUgbm9ydGhXZXN0ITogUXVhZFRyZWU8VD47XG4gIHByaXZhdGUgbm9ydGhFYXN0ITogUXVhZFRyZWU8VD47XG4gIHByaXZhdGUgc291dGhXZXN0ITogUXVhZFRyZWU8VD47XG4gIHByaXZhdGUgc291dGhFYXN0ITogUXVhZFRyZWU8VD47XG5cbiAgc2l6ZTogbnVtYmVyO1xuXG4gIHJlYWRvbmx5IG9wdGlvbnM6IFF1YWRUcmVlT3B0aW9uczxUPjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICAgIGJvdW5kczogQUFCQixcbiAgICAgIG9wdGlvbnM/OiBRdWFkVHJlZU9wdGlvbnM8VD4sXG4gICAgICBkZXB0aDogbnVtYmVyID0gMCxcbiAgKSB7XG4gICAgdGhpcy5ib3VuZHMgPSBib3VuZHM7XG4gICAgdGhpcy5kZXB0aCA9IGRlcHRoO1xuICAgIHRoaXMuZGl2aWRlZCA9IGZhbHNlO1xuICAgIHRoaXMudW5pdHMgPSB7fTtcbiAgICB0aGlzLnNpemUgPSAwO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwge1xuICAgICAgdW5pdEtleUdldHRlcjogUXVhZFRyZWUuVW5pcXVlVW5pdEF0UG9zaXRpb25LZXlGdW5jLFxuICAgIH07XG4gIH1cbiAgX2FkZCh2ZWM6IFZlYzIsIHVuaXQ/OiBUKTogZmFsc2UgfCAnYWRkZWQnIHwgJ2V4aXN0aW5nJyB7XG4gICAgaWYgKCFBQUJCLm92ZXJsYXBzVmVjKHRoaXMuYm91bmRzLCB2ZWMpKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHRoaXMuZGVwdGggPT0gUXVhZFRyZWUuTWF4RGVwdGggfHxcbiAgICAgICF0aGlzLmRpdmlkZWQgJiYgdGhpcy5zaXplIDwgUXVhZFRyZWUuTWF4RWxlbWVudHMpIHtcbiAgICAgIGNvbnN0IGtleSA9IHRoaXMub3B0aW9ucy51bml0S2V5R2V0dGVyKHZlYywgdW5pdCwgdGhpcyk7XG4gICAgICBsZXQgcmVzdWx0OiAnZXhpc3RpbmcnIHwgJ2FkZGVkJyA9ICdleGlzdGluZyc7XG4gICAgICBpZiAoIXRoaXMudW5pdHNba2V5XSkge1xuICAgICAgICB0aGlzLnNpemUgKys7XG4gICAgICAgIHJlc3VsdCA9ICdhZGRlZCc7XG4gICAgICB9XG4gICAgICB0aGlzLnVuaXRzW2tleV0gPSB7dmVjLCB1bml0fTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGlmICghdGhpcy5kaXZpZGVkKSB0aGlzLmRpdmlkZSgpO1xuICAgIGNvbnN0IGluc2VydGVkID0gdGhpcy5ub3J0aFdlc3QuX2FkZCh2ZWMsIHVuaXQpIHx8XG4gICAgICB0aGlzLm5vcnRoRWFzdC5fYWRkKHZlYywgdW5pdCkgfHxcbiAgICAgIHRoaXMuc291dGhXZXN0Ll9hZGQodmVjLCB1bml0KSB8fFxuICAgICAgdGhpcy5zb3V0aEVhc3QuX2FkZCh2ZWMsIHVuaXQpO1xuICAgIGlmIChpbnNlcnRlZCA9PT0gJ2FkZGVkJykgdGhpcy5zaXplICsrO1xuICAgIHJldHVybiBpbnNlcnRlZDtcbiAgfVxuICBhZGQodmVjOiBWZWMyLCB1bml0PzogVCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhIXRoaXMuX2FkZCh2ZWMsIHVuaXQpO1xuICB9XG4gIHByaXZhdGUgX21vdmUoXG4gICAgICBmcm9tOiBWZWMyLFxuICAgICAgdG86IFZlYzIgfCB1bmRlZmluZWQsXG4gICAgICB1bml0PzogVCxcbiAgKTogZmFsc2UgfCAncmVtb3ZlZCcgfCAnbW92ZWQnIHtcbiAgICBpZiAoIUFBQkIub3ZlcmxhcHNWZWModGhpcy5ib3VuZHMsIGZyb20pKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKCF0aGlzLmRpdmlkZWQpIHtcbiAgICAgIGNvbnN0IGtleSA9IHRoaXMub3B0aW9ucy51bml0S2V5R2V0dGVyKGZyb20sIHVuaXQsIHRoaXMpO1xuICAgICAgaWYgKCF0aGlzLnVuaXRzW2tleV0pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKHRvICYmIEFBQkIub3ZlcmxhcHNWZWModGhpcy5ib3VuZHMsIHRvKSkge1xuICAgICAgICAvLyB1cGRhdGUgaW4tcGxhY2VcbiAgICAgICAgY29uc3QgbmV3S2V5ID0gdGhpcy5vcHRpb25zLnVuaXRLZXlHZXR0ZXIodG8sIHVuaXQsIHRoaXMpO1xuICAgICAgICBpZiAobmV3S2V5ICE9PSBrZXkpIHtcbiAgICAgICAgICBkZWxldGUgdGhpcy51bml0c1trZXldO1xuICAgICAgICAgIHRoaXMudW5pdHNbbmV3S2V5XSA9IHt2ZWM6IHRvLCB1bml0fTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnVuaXRzW2tleV0gPSB7dmVjOiB0bywgdW5pdH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICdtb3ZlZCc7XG4gICAgICB9XG4gICAgICBkZWxldGUgdGhpcy51bml0c1trZXldO1xuICAgICAgdGhpcy5zaXplIC0tO1xuICAgICAgcmV0dXJuICdyZW1vdmVkJztcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5ub3J0aFdlc3QuX21vdmUoZnJvbSwgdG8sIHVuaXQpIHx8XG4gICAgICAgICAgdGhpcy5ub3J0aEVhc3QuX21vdmUoZnJvbSwgdG8sIHVuaXQpIHx8XG4gICAgICAgICAgdGhpcy5zb3V0aFdlc3QuX21vdmUoZnJvbSwgdG8sIHVuaXQpIHx8XG4gICAgICAgICAgdGhpcy5zb3V0aEVhc3QuX21vdmUoZnJvbSwgdG8sIHVuaXQpO1xuICAgIGlmIChyZXN1bHQgPT09ICdyZW1vdmVkJykge1xuICAgICAgdGhpcy5zaXplIC0tO1xuICAgICAgaWYgKHRvKSB7XG4gICAgICAgIGlmICh0aGlzLmFkZCh0bywgdW5pdCkpIHJldHVybiAnbW92ZWQnO1xuICAgICAgICByZXR1cm4gJ3JlbW92ZWQnO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIG1vdmUoZnJvbTogVmVjMiwgdG86IFZlYzIsIHVuaXQ/OiBUKTogYm9vbGVhbiB7XG4gICAgaWYgKCFBQUJCLm92ZXJsYXBzVmVjKHRoaXMuYm91bmRzLCB0bykpIHJldHVybiBmYWxzZTtcbiAgICBpZiAodGhpcy5fbW92ZShmcm9tLCB0bywgdW5pdCkgPT09ICdyZW1vdmVkJykgdGhyb3cgbmV3IEVycm9yKCd1bmV4cGVjdGVkJyk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgZGVsZXRlKHZlYzogVmVjMiwgdW5pdD86IFQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5fbW92ZSh2ZWMsIHVuZGVmaW5lZCwgdW5pdCkgPT09ICdyZW1vdmVkJztcbiAgfVxuICBjbGVhcigpIHtcbiAgICB0aGlzLnVuaXRzID0ge307XG4gICAgdGhpcy5zaXplID0gMDtcbiAgICB0aGlzLmRpdmlkZWQgPSBmYWxzZTtcbiAgICB0aGlzLm5vcnRoV2VzdCA9XG4gICAgICB0aGlzLm5vcnRoRWFzdCA9XG4gICAgICB0aGlzLnNvdXRoV2VzdCA9XG4gICAgICB0aGlzLnNvdXRoRWFzdCA9IHVuZGVmaW5lZCE7XG4gIH1cbiAgaGFzKHZlYzogVmVjMiwgdW5pdD86IFQpOiBib29sZWFuIHtcbiAgICBpZiAoIUFBQkIub3ZlcmxhcHNWZWModGhpcy5ib3VuZHMsIHZlYykpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoIXRoaXMuZGl2aWRlZCkge1xuICAgICAgY29uc3Qga2V5ID0gdGhpcy5vcHRpb25zLnVuaXRLZXlHZXR0ZXIodmVjLCB1bml0LCB0aGlzKTtcbiAgICAgIHJldHVybiAhIXRoaXMudW5pdHNba2V5XTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMubm9ydGhXZXN0Lmhhcyh2ZWMsIHVuaXQpIHx8XG4gICAgICB0aGlzLm5vcnRoRWFzdC5oYXModmVjLCB1bml0KSB8fFxuICAgICAgdGhpcy5zb3V0aFdlc3QuaGFzKHZlYywgdW5pdCkgfHxcbiAgICAgIHRoaXMuc291dGhFYXN0Lmhhcyh2ZWMsIHVuaXQpO1xuICB9XG4gIHByaXZhdGUgZGl2aWRlKCkge1xuICAgIHRoaXMuZGl2aWRlZCA9IHRydWU7XG4gICAgY29uc3QgaHcgPSB0aGlzLmJvdW5kcy5zaXplLnggLyAyO1xuICAgIGNvbnN0IGhoID0gdGhpcy5ib3VuZHMuc2l6ZS55IC8gMjtcblxuICAgIHRoaXMubm9ydGhXZXN0ID0gbmV3IFF1YWRUcmVlKHtcbiAgICAgIGNlbnRlcjoge3g6IHRoaXMuYm91bmRzLmNlbnRlci54IC0gaHcsIHk6IHRoaXMuYm91bmRzLmNlbnRlci55IC0gaGh9LFxuICAgICAgc2l6ZToge3g6IGh3LCB5OiBoaH19LCB0aGlzLm9wdGlvbnMsIHRoaXMuZGVwdGggKyAxKTtcbiAgICB0aGlzLm5vcnRoRWFzdCA9IG5ldyBRdWFkVHJlZSh7XG4gICAgICBjZW50ZXI6IHt4OiB0aGlzLmJvdW5kcy5jZW50ZXIueCArIGh3LCB5OiB0aGlzLmJvdW5kcy5jZW50ZXIueSAtIGhofSxcbiAgICAgIHNpemU6IHt4OiBodywgeTogaGh9fSwgdGhpcy5vcHRpb25zLCB0aGlzLmRlcHRoICsgMSk7XG4gICAgdGhpcy5zb3V0aFdlc3QgPSBuZXcgUXVhZFRyZWUoe1xuICAgICAgY2VudGVyOiB7eDogdGhpcy5ib3VuZHMuY2VudGVyLnggLSBodywgeTogdGhpcy5ib3VuZHMuY2VudGVyLnkgKyBoaH0sXG4gICAgICBzaXplOiB7eDogaHcsIHk6IGhofX0sIHRoaXMub3B0aW9ucywgdGhpcy5kZXB0aCArIDEpO1xuICAgIHRoaXMuc291dGhFYXN0ID0gbmV3IFF1YWRUcmVlKHtcbiAgICAgIGNlbnRlcjoge3g6IHRoaXMuYm91bmRzLmNlbnRlci54ICsgaHcsIHk6IHRoaXMuYm91bmRzLmNlbnRlci55ICsgaGh9LFxuICAgICAgc2l6ZToge3g6IGh3LCB5OiBoaH19LCB0aGlzLm9wdGlvbnMsIHRoaXMuZGVwdGggKyAxKTtcblxuICAgIGZvciAoY29uc3Qge3ZlYywgdW5pdH0gb2YgT2JqZWN0LnZhbHVlcyh0aGlzLnVuaXRzKSkge1xuICAgICAgdGhpcy5ub3J0aFdlc3QuYWRkKHZlYywgdW5pdCkgfHxcbiAgICAgIHRoaXMubm9ydGhFYXN0LmFkZCh2ZWMsIHVuaXQpIHx8XG4gICAgICB0aGlzLnNvdXRoV2VzdC5hZGQodmVjLCB1bml0KSB8fFxuICAgICAgdGhpcy5zb3V0aEVhc3QuYWRkKHZlYywgdW5pdCk7XG4gICAgfVxuICAgIHRoaXMudW5pdHMgPSB7fTtcbiAgfVxuICBxdWVyeUl0ZXJhdGFibGU8QT4oXG4gICAgICBtYXBGdW5jOiAodjoge3ZlYzogVmVjMiwgdW5pdD86IFR9KSA9PiBBLFxuICAgICAgc2hhcGU/OiBTaGFwZSB8IHVuZGVmaW5lZCxcbiAgKTogSXRlcmFibGU8QT47XG4gIHF1ZXJ5SXRlcmF0YWJsZShcbiAgICAgIHNoYXBlPzogU2hhcGUgfCB1bmRlZmluZWQsXG4gICk6IEl0ZXJhYmxlPHt2ZWM6IFZlYzIsIHVuaXQ/OiBUfT47XG4gIHF1ZXJ5SXRlcmF0YWJsZTxBPihcbiAgICAgIG1hcEZ1bmNPclNoYXBlPzogKCh2OiB7dmVjOiBWZWMyLCB1bml0PzogVH0pID0+IEEpIHwgU2hhcGUgfCB1bmRlZmluZWQsXG4gICAgICBzaGFwZT86IFNoYXBlIHwgdW5kZWZpbmVkLFxuICApOiBJdGVyYWJsZTxBPiB7XG4gICAgY29uc3QgbWFwRnVuYyA9IHR5cGVvZiBtYXBGdW5jT3JTaGFwZSA9PT0gJ2Z1bmN0aW9uJyA/XG4gICAgICBtYXBGdW5jT3JTaGFwZSA6XG4gICAgICB1bmRlZmluZWQ7XG4gICAgaWYgKHNoYXBlICYmICFTaGFwZS5wb3NzaWJsZWx5T3ZlcmxhcHNBQUJCKHNoYXBlLCB0aGlzLmJvdW5kcykpIHJldHVybiBbXTtcblxuICAgIGlmICghdGhpcy5kaXZpZGVkKSB7XG4gICAgICBsZXQgYXJyID0gT2JqZWN0LnZhbHVlcyh0aGlzLnVuaXRzKTtcbiAgICAgIGlmIChzaGFwZSkge1xuICAgICAgICBhcnIgPSBhcnIuZmlsdGVyKChyKSA9PiBTaGFwZS5vdmVybGFwc1ZlYyhzaGFwZSwgci52ZWMpKTtcbiAgICAgIH1cbiAgICAgIGlmIChtYXBGdW5jKSByZXR1cm4gYXJyLm1hcChtYXBGdW5jKTtcbiAgICAgIHJldHVybiBhcnIgYXMgYW55O1xuICAgIH1cbiAgICBpZiAobWFwRnVuYykge1xuICAgICAgcmV0dXJuIENvbGxlY3Rpb24udG9JdGVyYWJsZVdpdGhNYXAoXG4gICAgICAgICAgbWFwRnVuYyxcbiAgICAgICAgICAoKSA9PiB0aGlzLm5vcnRoV2VzdC5xdWVyeUl0ZXJhdGFibGUoc2hhcGUpLFxuICAgICAgICAgICgpID0+IHRoaXMubm9ydGhFYXN0LnF1ZXJ5SXRlcmF0YWJsZShzaGFwZSksXG4gICAgICAgICAgKCkgPT4gdGhpcy5zb3V0aFdlc3QucXVlcnlJdGVyYXRhYmxlKHNoYXBlKSxcbiAgICAgICAgICAoKSA9PiB0aGlzLnNvdXRoRWFzdC5xdWVyeUl0ZXJhdGFibGUoc2hhcGUpLFxuICAgICAgKSBhcyBhbnk7XG4gICAgfVxuICAgIHJldHVybiBDb2xsZWN0aW9uLnRvSXRlcmFibGUoXG4gICAgICAgICgpID0+IHRoaXMubm9ydGhXZXN0LnF1ZXJ5SXRlcmF0YWJsZShzaGFwZSksXG4gICAgICAgICgpID0+IHRoaXMubm9ydGhFYXN0LnF1ZXJ5SXRlcmF0YWJsZShzaGFwZSksXG4gICAgICAgICgpID0+IHRoaXMuc291dGhXZXN0LnF1ZXJ5SXRlcmF0YWJsZShzaGFwZSksXG4gICAgICAgICgpID0+IHRoaXMuc291dGhFYXN0LnF1ZXJ5SXRlcmF0YWJsZShzaGFwZSksXG4gICAgKSBhcyBhbnk7XG4gIH1cbiAgcHJpdmF0ZSBfcXVlcnlSZWR1Y2U8QT4oXG4gICAgICBzaGFwZTogU2hhcGUgfCB1bmRlZmluZWQsXG4gICAgICBjYWxsYmFja0Z1bmM6IFJlZHVjZUNhbGxiYWNrRnVuYzxULCBBPixcbiAgICAgIGluaXRpYWxWYWx1ZT86IEEpOiBBIHtcbiAgICBpZiAoc2hhcGUgJiYgIVNoYXBlLnBvc3NpYmxlbHlPdmVybGFwc0FBQkIoc2hhcGUsIHRoaXMuYm91bmRzKSkge1xuICAgICAgcmV0dXJuIGluaXRpYWxWYWx1ZSE7XG4gICAgfVxuICAgIGlmICghdGhpcy5kaXZpZGVkKSB7XG4gICAgICBsZXQgYXJyID0gT2JqZWN0LnZhbHVlcyh0aGlzLnVuaXRzKTtcbiAgICAgIGlmIChzaGFwZSkge1xuICAgICAgICBhcnIgPSBhcnIuZmlsdGVyKChyKSA9PiBTaGFwZS5vdmVybGFwc1ZlYyhzaGFwZSEsIHIudmVjKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyLnJlZHVjZShjYWxsYmFja0Z1bmMgYXMgYW55LCBpbml0aWFsVmFsdWUpIGFzIHVua25vd24gYXMgQTtcbiAgICB9XG4gICAgbGV0IHZhbHVlOiBBID0gaW5pdGlhbFZhbHVlITtcbiAgICB2YWx1ZSA9IHRoaXMubm9ydGhXZXN0Ll9xdWVyeVJlZHVjZShzaGFwZSwgY2FsbGJhY2tGdW5jLCB2YWx1ZSk7XG4gICAgdmFsdWUgPSB0aGlzLm5vcnRoRWFzdC5fcXVlcnlSZWR1Y2Uoc2hhcGUsIGNhbGxiYWNrRnVuYywgdmFsdWUpO1xuICAgIHZhbHVlID0gdGhpcy5zb3V0aFdlc3QuX3F1ZXJ5UmVkdWNlKHNoYXBlLCBjYWxsYmFja0Z1bmMsIHZhbHVlKTtcbiAgICB2YWx1ZSA9IHRoaXMuc291dGhFYXN0Ll9xdWVyeVJlZHVjZShzaGFwZSwgY2FsbGJhY2tGdW5jLCB2YWx1ZSk7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgcXVlcnlSZWR1Y2U8QT4oXG4gICAgICBjYWxsYmFja0Z1bmM6IFJlZHVjZUNhbGxiYWNrRnVuYzxULCBBPixcbiAgICAgIGluaXRpYWxWYWx1ZT86IEEpOiBBO1xuICBxdWVyeVJlZHVjZTxBPihcbiAgICAgIHNoYXBlOiBTaGFwZSxcbiAgICAgIGNhbGxiYWNrRnVuYzogUmVkdWNlQ2FsbGJhY2tGdW5jPFQsIEE+LFxuICAgICAgaW5pdGlhbFZhbHVlPzogQSk6IEE7XG4gIHF1ZXJ5UmVkdWNlPEE+KFxuICAgICAgc2hhcGVPckNhbGxiYWNrRnVuYzogU2hhcGUgfCBSZWR1Y2VDYWxsYmFja0Z1bmM8VCwgQT4sXG4gICAgICBjYWxsYmFja0Z1bmNPckluaXRpYWxWYWx1ZTogUmVkdWNlQ2FsbGJhY2tGdW5jPFQsIEE+IHwgQSxcbiAgICAgIGluaXRpYWxWYWx1ZT86IEEpOiBBIHtcbiAgICBpZiAodHlwZW9mIHNoYXBlT3JDYWxsYmFja0Z1bmMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiB0aGlzLl9xdWVyeVJlZHVjZShcbiAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgc2hhcGVPckNhbGxiYWNrRnVuYyxcbiAgICAgICAgICBjYWxsYmFja0Z1bmNPckluaXRpYWxWYWx1ZSBhcyBBKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuX3F1ZXJ5UmVkdWNlKFxuICAgICAgICAgIHNoYXBlT3JDYWxsYmFja0Z1bmMsXG4gICAgICAgICAgY2FsbGJhY2tGdW5jT3JJbml0aWFsVmFsdWUgYXMgUmVkdWNlQ2FsbGJhY2tGdW5jPFQsIEE+LFxuICAgICAgICAgIGluaXRpYWxWYWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgcXVlcnlBcnJheShcbiAgICAgIHNoYXBlPzogU2hhcGUsXG4gICk6IEFycmF5PHt2ZWM6IFZlYzIsIHVuaXQ/OiBUfT4ge1xuICAgIHJldHVybiB0aGlzLl9xdWVyeVJlZHVjZTxBcnJheTx7dmVjOiBWZWMyLCB1bml0PzogVH0+PihcbiAgICAgICAgc2hhcGUsXG4gICAgICAgIChhcnIsIHYpID0+IHtcbiAgICAgICAgICBhcnIucHVzaCh2KTtcbiAgICAgICAgICByZXR1cm4gYXJyO1xuICAgICAgICB9LCBbXSk7XG4gIH1cblxuICBxdWVyeUZvckVhY2goXG4gICAgc2hhcGU6IFNoYXBlLFxuICAgIGZvcmVhY2hGdW5jOiAodjoge3ZlYzogVmVjMiwgdW5pdD86IFR9LCBpbmRleDogbnVtYmVyKSA9PiB2b2lkLFxuICApOiB2b2lkO1xuICBxdWVyeUZvckVhY2goXG4gICAgZm9yZWFjaEZ1bmM6ICh2OiB7dmVjOiBWZWMyLCB1bml0PzogVH0sIGluZGV4OiBudW1iZXIpID0+IHZvaWQsXG4gICk6IHZvaWQ7XG4gIHF1ZXJ5Rm9yRWFjaChcbiAgICAgIHNoYXBlT3JGb3JlYWNoRnVuYzpcbiAgICAgICAgU2hhcGUgfCAoKHY6IHt2ZWM6IFZlYzIsIHVuaXQ/OiBUfSwgaW5kZXg6IG51bWJlcikgPT4gdm9pZCksXG4gICAgICBmb3JlYWNoRnVuYz86ICh2OiB7dmVjOiBWZWMyLCB1bml0PzogVH0sIGluZGV4OiBudW1iZXIpID0+IHZvaWQsXG4gICkge1xuICAgIGlmICh0eXBlb2Ygc2hhcGVPckZvcmVhY2hGdW5jID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLl9xdWVyeVJlZHVjZTx2b2lkPihcbiAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgKF8sIHYsIGluZGV4KSA9PiBzaGFwZU9yRm9yZWFjaEZ1bmModiwgaW5kZXgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFmb3JlYWNoRnVuYykgcmV0dXJuO1xuICAgICAgdGhpcy5fcXVlcnlSZWR1Y2U8dm9pZD4oXG4gICAgICAgICAgc2hhcGVPckZvcmVhY2hGdW5jLFxuICAgICAgICAgIChfLCB2LCBpbmRleCkgPT4gZm9yZWFjaEZ1bmModiwgaW5kZXgpKTtcbiAgICB9XG4gIH1cblxuICBxdWVyeU1hcDxBPihcbiAgICBtYXBGdW5jOiAodjoge3ZlYzogVmVjMiwgdW5pdD86IFR9LCBpbmRleDogbnVtYmVyKSA9PiBBLFxuICApOiBBcnJheTxBPjtcbiAgcXVlcnlNYXA8QT4oXG4gICAgc2hhcGU6IFNoYXBlLFxuICAgIG1hcEZ1bmM6ICh2OiB7dmVjOiBWZWMyLCB1bml0PzogVH0sIGluZGV4OiBudW1iZXIpID0+IEEsXG4gICk6IEFycmF5PEE+O1xuICBxdWVyeU1hcDxBPihcbiAgICAgIHNoYXBlT3JNYXBGdW5jOiBTaGFwZSB8ICgodjoge3ZlYzogVmVjMiwgdW5pdD86IFR9LCBpbmRleDogbnVtYmVyKSA9PiBBKSxcbiAgICAgIG1hcEZ1bmM/OiAodjoge3ZlYzogVmVjMiwgdW5pdD86IFR9LCBpbmRleDogbnVtYmVyKSA9PiBBLFxuICApOiBBcnJheTxBPiB7XG4gICAgaWYgKHR5cGVvZiBzaGFwZU9yTWFwRnVuYyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaWYgKCFtYXBGdW5jKSByZXR1cm4gW107XG4gICAgICByZXR1cm4gdGhpcy5fcXVlcnlSZWR1Y2U8QXJyYXk8QT4+KFxuICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAoYXJyLCB2LCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgYXJyLnB1c2goc2hhcGVPck1hcEZ1bmModiwgaW5kZXgpKTtcbiAgICAgICAgICAgIHJldHVybiBhcnI7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBbXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghbWFwRnVuYykgcmV0dXJuIFtdO1xuICAgICAgcmV0dXJuIHRoaXMuX3F1ZXJ5UmVkdWNlPEFycmF5PEE+PihcbiAgICAgICAgICBzaGFwZU9yTWFwRnVuYyxcbiAgICAgICAgICAoYXJyLCB2LCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgYXJyLnB1c2gobWFwRnVuYyh2LCBpbmRleCkpO1xuICAgICAgICAgICAgcmV0dXJuIGFycjtcbiAgICAgICAgICB9LFxuICAgICAgICAgIFtdKTtcbiAgICB9XG4gIH1cbiAgX2R1bXBUb1N0cmluZyhyZXN1bHQ6IHN0cmluZ1tdKSB7XG4gICAgY29uc3QgcHJlZml4ID0gJyAgICAgICAgICAgICcuc3Vic3RyaW5nKDAsIHRoaXMuZGVwdGgpO1xuICAgIGlmICghdGhpcy5kaXZpZGVkKSB7XG4gICAgICByZXN1bHQucHVzaChwcmVmaXgpO1xuICAgICAgcmVzdWx0LnB1c2goSlNPTi5zdHJpbmdpZnkodGhpcy51bml0cykpO1xuICAgICAgcmVzdWx0LnB1c2goJ1xcbicpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgZm9yIChjb25zdCBjaGlsZCBvZiBbXG4gICAgICB7c3RyOiAnTlcnLCBxdDogdGhpcy5ub3J0aFdlc3R9LFxuICAgICAge3N0cjogJ05FJywgcXQ6IHRoaXMubm9ydGhFYXN0fSxcbiAgICAgIHtzdHI6ICdTVycsIHF0OiB0aGlzLnNvdXRoV2VzdH0sXG4gICAgICB7c3RyOiAnU0UnLCBxdDogdGhpcy5zb3V0aEVhc3R9LFxuICAgIF0pIHtcbiAgICAgIHJlc3VsdC5wdXNoKHByZWZpeCk7XG4gICAgICByZXN1bHQucHVzaChjaGlsZC5zdHIpO1xuICAgICAgcmVzdWx0LnB1c2goYCAoJHtjaGlsZC5xdC5zaXplfSk6XFxuYCk7XG4gICAgICBjaGlsZC5xdC5fZHVtcFRvU3RyaW5nKHJlc3VsdCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5fZHVtcFRvU3RyaW5nKFtdKS5qb2luKCcnKTtcbiAgfVxufVxuIiwiaW1wb3J0IHtcbiAgUXVhZFRyZWUsXG4gIFF1YWRUcmVlT3B0aW9ucyxcbn0gZnJvbSAnLi9RdWFkVHJlZSc7XG5pbXBvcnQge0FBQkIsIFNoYXBlLCBWZWMyfSBmcm9tICcuL3NoYXBlJztcblxuZXhwb3J0IHR5cGUgUXVhZE1hcFVuaXRQb3NpdGlvbkdldHRlckZ1bmM8VD4gPSAobzogVCkgPT4gVmVjMjtcbmV4cG9ydCB0eXBlIFF1YWRNYXBVbml0UG9zaXRpb25TZXR0ZXJGdW5jPFQ+ID0gKG86IFQsIHBvc2l0aW9uOiBWZWMyKSA9PiB2b2lkO1xuZXhwb3J0IHR5cGUgUmVkdWNlQ2FsbGJhY2tGdW5jPFQsIEE+ID0gKFxuICBhY2M6IEEsXG4gIHByZXZpb3VzOiB7dmVjOiBWZWMyLCB1bml0OiBUfSxcbiAgaW5kZXg6IG51bWJlcixcbikgPT4gQSB8IHVuZGVmaW5lZDtcbmV4cG9ydCBjbGFzcyBRdWFkVHJlZVBvc2l0aW9uT3V0T2ZCb3VuZHNFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IobWVzc2FnZTogc3RyaW5nKSB7XG4gICAgc3VwZXIobWVzc2FnZSk7XG4gIH1cbn1cbmV4cG9ydCBpbnRlcmZhY2UgUmVhZG9ubHlRdWFkVHJlZVNldDxUPiBleHRlbmRzIFJlYWRvbmx5U2V0PFQ+IHtcbiAgcmVhZG9ubHkgYm91bmRzOiBBQUJCO1xuICBbU3ltYm9sLml0ZXJhdG9yXSgpOiBJdGVyYWJsZUl0ZXJhdG9yPFQ+O1xuICBxdWVyeUl0ZXJhdGFibGUoXG4gICAgICBzaGFwZTogU2hhcGUgfCB1bmRlZmluZWQsXG4gICk6IEl0ZXJhYmxlPHt2ZWM6IFZlYzIsIHVuaXQ6IFR9PjtcbiAgcXVlcnlSZWR1Y2U8QT4oXG4gICAgY2FsbGJhY2tGdW5jOiBSZWR1Y2VDYWxsYmFja0Z1bmM8VCwgQT4sXG4gICAgaW5pdGlhbFZhbHVlPzogQSk6IEE7XG4gIHF1ZXJ5UmVkdWNlPEE+KFxuICAgICAgc2hhcGU6IFNoYXBlLFxuICAgICAgY2FsbGJhY2tGdW5jOiBSZWR1Y2VDYWxsYmFja0Z1bmM8VCwgQT4sXG4gICAgICBpbml0aWFsVmFsdWU/OiBBKTogQTtcbiAgcXVlcnlBcnJheShcbiAgICAgIHNoYXBlPzogU2hhcGUsXG4gICk6IEFycmF5PHt2ZWM6IFZlYzIsIHVuaXQ6IFR9PjtcbiAgcXVlcnlGb3JFYWNoKFxuICAgICAgc2hhcGU6IFNoYXBlLFxuICAgICAgZm9yZWFjaEZ1bmM6ICh2OiB7dmVjOiBWZWMyLCB1bml0OiBUfSwgaW5kZXg6IG51bWJlcikgPT4gdm9pZCxcbiAgKTogdm9pZDtcbiAgcXVlcnlGb3JFYWNoKFxuICAgICAgZm9yZWFjaEZ1bmM6ICh2OiB7dmVjOiBWZWMyLCB1bml0OiBUfSwgaW5kZXg6IG51bWJlcikgPT4gdm9pZCxcbiAgKTogdm9pZDtcbiAgcXVlcnlNYXA8QT4oXG4gICAgICBtYXBGdW5jOiAodjoge3ZlYzogVmVjMiwgdW5pdDogVH0sIGluZGV4OiBudW1iZXIpID0+IEEsXG4gICk6IEFycmF5PEE+O1xuICBxdWVyeU1hcDxBPihcbiAgICAgIHNoYXBlOiBTaGFwZSxcbiAgICAgIG1hcEZ1bmM6ICh2OiB7dmVjOiBWZWMyLCB1bml0OiBUfSwgaW5kZXg6IG51bWJlcikgPT4gQSxcbiAgKTogQXJyYXk8QT47XG59XG5leHBvcnQgY2xhc3MgUXVhZFRyZWVTZXQ8VD4gaW1wbGVtZW50cyBTZXQ8VD4sIFJlYWRvbmx5UXVhZFRyZWVTZXQ8VD4ge1xuICBzdGF0aWMgVW5pcXVlVW5pdEF0VmVjS2V5RnVuYyA9IFF1YWRUcmVlLlVuaXF1ZVVuaXRBdFBvc2l0aW9uS2V5RnVuYztcbiAgcHJpdmF0ZSBxdWFyZFRyZWU6IFF1YWRUcmVlPFQ+O1xuICBwcml2YXRlIHVuaXRQb3NpdGlvbkdldHRlcjogUXVhZE1hcFVuaXRQb3NpdGlvbkdldHRlckZ1bmM8VD47XG4gIGNvbnN0cnVjdG9yKGJvdW5kczogQUFCQiwgb3B0aW9uczogUXVhZFRyZWVPcHRpb25zPFQ+ICYge1xuICAgIHVuaXRQb3NpdGlvbkdldHRlcjogUXVhZE1hcFVuaXRQb3NpdGlvbkdldHRlckZ1bmM8VD4sXG4gIH0pIHtcbiAgICB0aGlzLnF1YXJkVHJlZSA9IG5ldyBRdWFkVHJlZShib3VuZHMsIG9wdGlvbnMpO1xuICAgIHRoaXMudW5pdFBvc2l0aW9uR2V0dGVyID0gb3B0aW9ucy51bml0UG9zaXRpb25HZXR0ZXI7XG4gIH1cbiAgZ2V0IHNpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMucXVhcmRUcmVlLnNpemU7XG4gIH1cbiAgZ2V0IGJvdW5kcygpIHtcbiAgICByZXR1cm4gdGhpcy5xdWFyZFRyZWUuYm91bmRzO1xuICB9XG4gIGFkZCh0OiBUKSB7XG4gICAgY29uc3QgcG9zaXRpb24gPSB0aGlzLnVuaXRQb3NpdGlvbkdldHRlcih0KTtcbiAgICBpZiAoIXRoaXMucXVhcmRUcmVlLmFkZChwb3NpdGlvbiwgdCkpIHtcbiAgICAgIHRocm93IG5ldyBRdWFkVHJlZVBvc2l0aW9uT3V0T2ZCb3VuZHNFcnJvcihcbiAgICAgICAgICBgcG9zaXRpb24gJHtKU09OLnN0cmluZ2lmeShwb3NpdGlvbil9IGlzIG91dCBvZiBib3VuZHM6YCArXG4gICAgICAgICAgYCAke0pTT04uc3RyaW5naWZ5KHRoaXMucXVhcmRUcmVlLmJvdW5kcyl9YCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIG1vdmUodDogVCwgdG86IFZlYzIpIHtcbiAgICByZXR1cm4gdGhpcy5xdWFyZFRyZWUubW92ZSh0aGlzLnVuaXRQb3NpdGlvbkdldHRlcih0KSwgdG8sIHQpO1xuICB9XG4gIGRlbGV0ZSh0OiBUKSB7XG4gICAgcmV0dXJuIHRoaXMucXVhcmRUcmVlLmRlbGV0ZSh0aGlzLnVuaXRQb3NpdGlvbkdldHRlcih0KSwgdCk7XG4gIH1cbiAgaGFzKHQ6IFQpIHtcbiAgICByZXR1cm4gdGhpcy5xdWFyZFRyZWUuaGFzKHRoaXMudW5pdFBvc2l0aW9uR2V0dGVyKHQpLCB0KTtcbiAgfVxuICBjbGVhcigpIHtcbiAgICB0aGlzLnF1YXJkVHJlZS5jbGVhcigpO1xuICB9XG4gIGZvckVhY2goY2FsbGJhY2tmbjogKHZhbHVlOiBULCB2YWx1ZTI6IFQsIHNldDogU2V0PFQ+KSA9PiB2b2lkKTogdm9pZCB7XG4gICAgcmV0dXJuIHRoaXMucXVhcmRUcmVlLnF1ZXJ5UmVkdWNlKFxuICAgICAgICAoXywgcCkgPT4gdm9pZChjYWxsYmFja2ZuKHAudW5pdCEsIHAudW5pdCEsIHRoaXMpKSxcbiAgICAgICAgdm9pZCgwKSxcbiAgICApO1xuICB9XG4gIGVudHJpZXMoKTogSXRlcmFibGVJdGVyYXRvcjxbVCwgVF0+IHtcbiAgICByZXR1cm4gdGhpcy5xdWFyZFRyZWUucXVlcnlJdGVyYXRhYmxlPFtULCBUXT4oXG4gICAgICAgIChwKSA9PiBbcC51bml0ISwgcC51bml0IV0pIGFzIGFueTtcbiAgfVxuICBrZXlzKCk6IEl0ZXJhYmxlSXRlcmF0b3I8VD4ge1xuICAgIHJldHVybiB0aGlzLnZhbHVlcygpO1xuICB9XG4gIHZhbHVlcygpOiBJdGVyYWJsZUl0ZXJhdG9yPFQ+IHtcbiAgICByZXR1cm4gdGhpcy5xdWFyZFRyZWUucXVlcnlJdGVyYXRhYmxlPFQ+KFxuICAgICAgICAocCkgPT4gcC51bml0ISkgYXMgYW55O1xuICB9XG4gIGdldCBbU3ltYm9sLnRvU3RyaW5nVGFnXSgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLnF1YXJkVHJlZS50b1N0cmluZygpO1xuICB9XG4gIFtTeW1ib2wuaXRlcmF0b3JdKCk6IEl0ZXJhYmxlSXRlcmF0b3I8VD4ge1xuICAgIHJldHVybiB0aGlzLnZhbHVlcygpO1xuICB9XG4gIHF1ZXJ5SXRlcmF0YWJsZShcbiAgICAgIHNoYXBlOiBTaGFwZSB8IHVuZGVmaW5lZCxcbiAgKTogSXRlcmFibGU8e3ZlYzogVmVjMiwgdW5pdDogVH0+IHtcbiAgICByZXR1cm4gdGhpcy5xdWFyZFRyZWUucXVlcnlJdGVyYXRhYmxlKHNoYXBlKSBhc1xuICAgICAgSXRlcmFibGU8e3ZlYzogVmVjMiwgdW5pdDogVH0+O1xuICB9XG5cbiAgcXVlcnlSZWR1Y2U8QT4oXG4gICAgICBjYWxsYmFja0Z1bmM6IFJlZHVjZUNhbGxiYWNrRnVuYzxULCBBPixcbiAgICAgIGluaXRpYWxWYWx1ZT86IEEpOiBBO1xuICBxdWVyeVJlZHVjZTxBPihcbiAgICAgIHNoYXBlOiBTaGFwZSxcbiAgICAgIGNhbGxiYWNrRnVuYzogUmVkdWNlQ2FsbGJhY2tGdW5jPFQsIEE+LFxuICAgICAgaW5pdGlhbFZhbHVlPzogQSk6IEE7XG4gIHF1ZXJ5UmVkdWNlPEE+KFxuICAgICAgc2hhcGVPckNhbGxiYWNrRnVuYzogU2hhcGUgfCBSZWR1Y2VDYWxsYmFja0Z1bmM8VCwgQT4sXG4gICAgICBjYWxsYmFja0Z1bmNPckluaXRpYWxWYWx1ZTogUmVkdWNlQ2FsbGJhY2tGdW5jPFQsIEE+IHwgQSxcbiAgICAgIGluaXRpYWxWYWx1ZT86IEEpOiBBIHtcbiAgICByZXR1cm4gdGhpcy5xdWFyZFRyZWUucXVlcnlSZWR1Y2UoXG4gICAgICAgIHNoYXBlT3JDYWxsYmFja0Z1bmMgYXMgU2hhcGUsXG4gICAgICAgIGNhbGxiYWNrRnVuY09ySW5pdGlhbFZhbHVlIGFzIGFueSxcbiAgICAgICAgaW5pdGlhbFZhbHVlKTtcbiAgfVxuXG4gIHF1ZXJ5QXJyYXkoXG4gICAgICBzaGFwZT86IFNoYXBlLFxuICApOiBBcnJheTx7dmVjOiBWZWMyLCB1bml0OiBUfT4ge1xuICAgIHJldHVybiB0aGlzLnF1YXJkVHJlZS5xdWVyeUFycmF5KHNoYXBlKSBhcyBhbnk7XG4gIH1cblxuICBxdWVyeUZvckVhY2goXG4gICAgc2hhcGU6IFNoYXBlLFxuICAgIGZvcmVhY2hGdW5jOiAodjoge3ZlYzogVmVjMiwgdW5pdDogVH0sIGluZGV4OiBudW1iZXIpID0+IHZvaWQsXG4gICk6IHZvaWQ7XG4gIHF1ZXJ5Rm9yRWFjaChcbiAgICBmb3JlYWNoRnVuYzogKHY6IHt2ZWM6IFZlYzIsIHVuaXQ6IFR9LCBpbmRleDogbnVtYmVyKSA9PiB2b2lkLFxuICApOiB2b2lkO1xuICBxdWVyeUZvckVhY2goXG4gICAgICBzaGFwZU9yRm9yZWFjaEZ1bmM6XG4gICAgICAgIFNoYXBlIHwgKCh2OiB7dmVjOiBWZWMyLCB1bml0OiBUfSwgaW5kZXg6IG51bWJlcikgPT4gdm9pZCksXG4gICAgICBmb3JlYWNoRnVuYz86ICh2OiB7dmVjOiBWZWMyLCB1bml0OiBUfSwgaW5kZXg6IG51bWJlcikgPT4gdm9pZCxcbiAgKSB7XG4gICAgdGhpcy5xdWFyZFRyZWUucXVlcnlGb3JFYWNoKHNoYXBlT3JGb3JlYWNoRnVuYyBhcyBhbnksIGZvcmVhY2hGdW5jIGFzIGFueSk7XG4gIH1cblxuICBxdWVyeU1hcDxBPihcbiAgICBtYXBGdW5jOiAodjoge3ZlYzogVmVjMiwgdW5pdDogVH0sIGluZGV4OiBudW1iZXIpID0+IEEsXG4gICk6IEFycmF5PEE+O1xuICBxdWVyeU1hcDxBPihcbiAgICBzaGFwZTogU2hhcGUsXG4gICAgbWFwRnVuYzogKHY6IHt2ZWM6IFZlYzIsIHVuaXQ6IFR9LCBpbmRleDogbnVtYmVyKSA9PiBBLFxuICApOiBBcnJheTxBPjtcbiAgcXVlcnlNYXA8QT4oXG4gICAgICBzaGFwZU9yTWFwRnVuYzogU2hhcGUgfCAoKHY6IHt2ZWM6IFZlYzIsIHVuaXQ6IFR9LCBpbmRleDogbnVtYmVyKSA9PiBBKSxcbiAgICAgIG1hcEZ1bmM/OiAodjoge3ZlYzogVmVjMiwgdW5pdDogVH0sIGluZGV4OiBudW1iZXIpID0+IEEsXG4gICk6IEFycmF5PEE+IHtcbiAgICByZXR1cm4gdGhpcy5xdWFyZFRyZWUucXVlcnlNYXAoc2hhcGVPck1hcEZ1bmMgYXMgU2hhcGUsIG1hcEZ1bmMgYXMgYW55KTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIkNvbGxlY3Rpb24iLCJBQUJCIiwiU2hhcGUiLCJjIiwiQXJyYXkiLCJyIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJpIiwicHVzaCIsIm5leHQiLCJkb25lIiwidmFsdWUiLCJjaGlsZEl0ZXJhdG9ycyIsImZ1bmMiLCJyZXN1bHQiLCJmaWx0ZXJGdW5jIiwibWFwRnVuYyIsImFhYmIiLCJ2ZWMiLCJjZW50ZXIiLCJ4Iiwic2l6ZSIsInkiLCJvbmUiLCJhbm90aGVyIiwic2hhcGUiLCJ0eXBlIiwib3ZlcmxhcHNWZWMiLCJNYXRoIiwicG93IiwiRXJyb3IiLCJvdmVybGFwc0FBQkIiLCJRdWFkVHJlZSIsInN0YXRpYyIsIl8iLCJxdWFkVHJlZSIsIm9wdGlvbnMiLCJpbnRlZ2VyQ29vcmRpbmF0ZSIsImJvdW5kcyIsImRlcHRoIiwiZGl2aWRlZCIsInVuaXRzIiwibm9ydGhXZXN0Iiwibm9ydGhFYXN0Iiwic291dGhXZXN0Iiwic291dGhFYXN0IiwiY29uc3RydWN0b3IiLCJ0aGlzIiwidW5pdEtleUdldHRlciIsIlVuaXF1ZVVuaXRBdFBvc2l0aW9uS2V5RnVuYyIsIl9hZGQiLCJ1bml0IiwiTWF4RGVwdGgiLCJNYXhFbGVtZW50cyIsImtleSIsImRpdmlkZSIsImluc2VydGVkIiwiYWRkIiwiX21vdmUiLCJmcm9tIiwidG8iLCJuZXdLZXkiLCJtb3ZlIiwiZGVsZXRlIiwidW5kZWZpbmVkIiwiY2xlYXIiLCJoYXMiLCJodyIsImhoIiwiT2JqZWN0IiwidmFsdWVzIiwicXVlcnlJdGVyYXRhYmxlIiwibWFwRnVuY09yU2hhcGUiLCJwb3NzaWJsZWx5T3ZlcmxhcHNBQUJCIiwiYXJyIiwiZmlsdGVyIiwibWFwIiwidG9JdGVyYWJsZVdpdGhNYXAiLCJ0b0l0ZXJhYmxlIiwiX3F1ZXJ5UmVkdWNlIiwiY2FsbGJhY2tGdW5jIiwiaW5pdGlhbFZhbHVlIiwicmVkdWNlIiwicXVlcnlSZWR1Y2UiLCJzaGFwZU9yQ2FsbGJhY2tGdW5jIiwiY2FsbGJhY2tGdW5jT3JJbml0aWFsVmFsdWUiLCJxdWVyeUFycmF5IiwidiIsInF1ZXJ5Rm9yRWFjaCIsInNoYXBlT3JGb3JlYWNoRnVuYyIsImZvcmVhY2hGdW5jIiwiaW5kZXgiLCJxdWVyeU1hcCIsInNoYXBlT3JNYXBGdW5jIiwiX2R1bXBUb1N0cmluZyIsInByZWZpeCIsInN1YnN0cmluZyIsIkpTT04iLCJzdHJpbmdpZnkiLCJjaGlsZCIsInN0ciIsInF0IiwidG9TdHJpbmciLCJqb2luIiwiUXVhZFRyZWVQb3NpdGlvbk91dE9mQm91bmRzRXJyb3IiLCJtZXNzYWdlIiwic3VwZXIiLCJRdWFkVHJlZVNldCIsInF1YXJkVHJlZSIsInVuaXRQb3NpdGlvbkdldHRlciIsInQiLCJwb3NpdGlvbiIsImZvckVhY2giLCJjYWxsYmFja2ZuIiwicCIsImVudHJpZXMiLCJrZXlzIiwidG9TdHJpbmdUYWciXSwibWFwcGluZ3MiOiI7Ozs7Ozs4Q0FHQSxJQUFpQkEsRUNLQUMsRUFtQ0FDLHVCRHhDQUYsRUFBQUEsZUFBQUEsMEJBQ2YsU0FBMkJHLEdBQ3pCLEdB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
